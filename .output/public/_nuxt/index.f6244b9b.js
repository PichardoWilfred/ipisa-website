import{i as k,n as v,a as C,t as E,b as I,c as P,d as W}from"./index.94e605e7.js";import{m as O,l as M,r as L,a4 as _,q}from"./entry.db06ec7b.js";function l(o){var u;const i=E(o);return(u=i==null?void 0:i.$el)!=null?u:i}const A=C?window:void 0;function y(...o){let u,i,n,d;if(typeof o[0]=="string"||Array.isArray(o[0])?([i,n,d]=o,u=A):[u,i,n,d]=o,!u)return v;Array.isArray(i)||(i=[i]),Array.isArray(n)||(n=[n]);const f=[],p=()=>{f.forEach(s=>s()),f.length=0},c=(s,a,e,t)=>(s.addEventListener(a,e,t),()=>s.removeEventListener(a,e,t)),m=O(()=>[l(u),E(d)],([s,a])=>{if(p(),!s)return;const e=P(a)?{...a}:a;f.push(...i.flatMap(t=>n.map(r=>c(s,t,r,e))))},{immediate:!0,flush:"post"}),h=()=>{m(),p()};return I(h),h}let g=!1;function D(o,u,i={}){const{window:n=A,ignore:d=[],capture:f=!0,detectIframe:p=!1}=i;if(!n)return;k&&!g&&(g=!0,Array.from(n.document.body.children).forEach(e=>e.addEventListener("click",v)),n.document.documentElement.addEventListener("click",v));let c=!0;const m=e=>d.some(t=>{if(typeof t=="string")return Array.from(n.document.querySelectorAll(t)).some(r=>r===e.target||e.composedPath().includes(r));{const r=l(t);return r&&(e.target===r||e.composedPath().includes(r))}}),s=[y(n,"click",e=>{const t=l(o);if(!(!t||t===e.target||e.composedPath().includes(t))){if(e.detail===0&&(c=!m(e)),!c){c=!0;return}u(e)}},{passive:!0,capture:f}),y(n,"pointerdown",e=>{const t=l(o);t&&(c=!e.composedPath().includes(t)&&!m(e))},{passive:!0}),p&&y(n,"blur",e=>{setTimeout(()=>{var t;const r=l(o);((t=n.document.activeElement)==null?void 0:t.tagName)==="IFRAME"&&!(r!=null&&r.contains(n.document.activeElement))&&u(e)},0)})].filter(Boolean);return()=>s.forEach(e=>e())}function x(){const o=L(!1);return _()&&q(()=>{o.value=!0}),o}function B(o){const u=x();return M(()=>(u.value,!!o()))}function F(o,u,i={}){const{root:n,rootMargin:d="0px",threshold:f=.1,window:p=A,immediate:c=!0}=i,m=B(()=>p&&"IntersectionObserver"in p),h=M(()=>{const r=E(o);return(Array.isArray(r)?r:[r]).map(l).filter(W)});let s=v;const a=L(c),e=m.value?O(()=>[h.value,l(n),a.value],([r,S])=>{if(s(),!a.value||!r.length)return;const w=new IntersectionObserver(u,{root:l(S),rootMargin:d,threshold:f});r.forEach(b=>b&&w.observe(b)),s=()=>{w.disconnect(),s=v}},{immediate:c,flush:"post"}):v,t=()=>{s(),e(),a.value=!1};return I(t),{isSupported:m,isActive:a,pause(){s(),a.value=!1},resume(){a.value=!0},stop:t}}export{D as o,F as u};
